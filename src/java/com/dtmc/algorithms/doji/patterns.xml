<?xml version="1.0" encoding="utf-8"?>
<patterns>
    <pattern id="1001" forecast="bullish">
        <Name>Three White Soldiers #1</Name>
        <candlesticks num="3" unit="volatility">
            <trend curve="TREND" compare="negative" tolerance="0"/>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle D1</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle D2</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle D3</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Close At New High</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Close At New High</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" toleranc="0">
                <comment>D2 Bottom Above D1 Bottom</comment>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Bottom Below D1 Top</comment>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" toleranc="0">
                <comment>D3 Bottom Above D2 Bottom</comment>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Below D2 Top</comment>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Top Fuse</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Top Fuse</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="2">
                    <high value="1"/>
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Top Fuse</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="3">
                    <high value="1"/>
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1002" forecast="bearish">
        <Name>Three Black Crows #1</Name>
        <candlesticks num="3" unit="volatility">
            <trend curve="TREND" compare="positive" tolerance="0"/>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle D1</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle D2</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle D3</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Bottom On new Low</comment>
                <scalar candle="1">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Bottom On new Low</comment>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Top Below D1 Top</comment>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Top Above D1 Bottom</comment>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Below D2 Top</comment>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D2 Bottom</comment>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Bottom Fuse</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Bottom Fuse</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Down Fuse</comment>
                <const value="-0.2" factor="unit"/>
                <scalar candle="3">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1003" forecast="bearish">
        <Name>Bearish Evening Star #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a long white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle D1</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a small candlestick on the second day with a gap in the direction of the previous uptrend. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Candle D2</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Filter from Doji D2</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. Finally we see a black candlestick on the third day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Above D1 Bottom</comment>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Below D1 Top</comment>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1004" forecast="bullish">
        <Name>Bullish Morning Star #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a long black candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle D1</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a small body on the second day gapping in the direction of the previous downtrend. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Filter from Doji</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Candle</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 4. Finally we see a white candlestick on the third day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Below D1 Top</comment>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D1 Bottom</comment>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1005" forecast="bullish">
        <Name>Bullish Engulfing #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. Then we see a small black body.-->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.05" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle</comment>
                <const value="-0.3" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Next day we see a white body that completely engulfs the black real body of the preceding day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Below D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bottom Above D2 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1006" forecast="bullish">
        <Name>Bullish Hammer #1</Name>
        <candlesticks num="1" unit="volatility">
            <!-- 1. The market is characterized by a prevailing downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. Then we see a small real body at the upper end of the trading range. Color of this body is not important. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Filter from Doji</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <const value="-0.1" factor="unit"/>
                <comment>Short Candle</comment>
                <scalar candle="1">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 3. We would like to see the lower shadow at least twice as long as the real body. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Double Body Fuse Down</comment>
                <scalar candle="1">
                    <top value="2"/>
                    <bottom value="-2"/>
                </scalar>
                <scalar candle="1">
                    <low value="1"/>
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. There is no (or almost no) upper shadow. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Top Fuse</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1007" forecast="bullish">
        <Name>Bullish Inverted Hammer #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is currently characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. The first day of the pattern is a black candlestick formed at the lower end of the trading range. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. The second day of the pattern is a small real body and is formed at the lower end of the trading range.  -->
            <!-- 4. The color of the second real body is not important, however the color of the body is black in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Filter from Doji</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Candle</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 5. No gap down is required, as long as the pattern is seen after a downtrend. -->
            <!-- 6. Upper shadow of the second small body should be at least twice as long as the real body. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Double Body Fuse Up</comment>
                <scalar candle="1">
                    <top value="2"/>
                    <bottom value="-2"/>
                </scalar>
                <scalar candle="1">
                    <high value="-1"/>
                    <top value="1"/>
                </scalar>
            </constraint>

            <!-- 7. The second body does not have lower shadow or it has only a very little lower shadow. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Bottom Fuse</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <low value="1"/>
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1008" forecast="bullish">
        <Name>Bullish Abandoned Baby #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We usually see a long black candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then a Doji appears on the second day whose shadows gap below the previous day's lower shadow and gaps in the direction of the previous downtrend. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Down</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
            </constraint>

            <!-- 4. Then we see a white candlestick on the third day with a gap in the opposite direction with no overlapping shadows. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Gap Up</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
                <scalar candle="3">
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1009" forecast="bullish">
        <Name>Bullish Piercing Line #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a long black candlestick. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a long white candlestick whose opening price is below previous day’s low on the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Low Above D2 Bottom</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 4. The second day’s close is contained within the first day body and it is also above the midpoint of the first day’s body. -->
            <!-- 5. The second day however fails to close above the body of the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Top Above D1 Median</comment>
                <scalar candle="1">
                    <median value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Top Below D1 Top</comment>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1010" forecast="bullish">
        <Name>Bullish Harami #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. The market is in a bearish mood characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. Then we see a long black candlestick. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle D1</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. We see a white candlestick on the following day 
            where the small white real body is completely engulfed by
            the real body of the first day. The shadows (high/low) of
            the second candlestick are not necessarily contained within
            the first body, however it's preferable if they are. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle D2</comment>
                <const value="0.05" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle D2</comment>
                <const value="-0.3" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Above D2 Top</comment>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative">
                <comment>D1 Bottom Below D2 Bottom</comment>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1011" forecast="bullish">
        <Name>Bullish Upside Gap Three #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see two long white candlesticks with a gap between them. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up D1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see the black candlestick on the third day, which opens within the body of the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Below D2 Top</comment>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D2 Bottom</comment>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>

            <!-- 4. The third black candlestick fills the gap between the first two days. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Below D1 Top</comment>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1012" forecast="bullish">
        <Name>White Marubozu #1</Name>
        <candlesticks num="1" unit="volatility">
            <!-- 1. A white Marubozu does not have upper or lower shadows. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 2. The day opens and prices continue to go up all day thus forming a long white day with no lower shadow. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1013" forecast="bearish">
        <Name>Bearish Engulfing #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.05" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle D1</comment>
                <const value="-0.3" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a black candlestick that completely engulfs the real body of the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Below D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bottom Above D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1014" forecast="bearish">
        <Name>Bearish Hanging Man #1</Name>
        <candlesticks num="1" unit="volatility">
            <!-- 1. We see it at a market top or during an uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. It is characterized by its small real body at
            the upper end of the trading range and it is located above
            the trend. The color of the body is unimportant. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Filter from Doji</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 3. It has a lower shadow, which is at least twice the height of the real body. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Double Body Fuse Down</comment>
                <scalar candle="1">
                    <top value="2"/>
                    <bottom value="-2"/>
                </scalar>
                <scalar candle="1">
                    <low value="1"/>
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. There is either no upper shadow or a very short upper shadow. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <high value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1015" forecast="bearish">
        <Name>Bearish Shooting Star #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Prices then open with a gap creating a small real body at
            the lower end of the trading range on the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up D1</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Filter from Doji</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 4. Upper shadow of the pattern on the second day is usually
            at least twice as long as the real body. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Double Body Fuse Up</comment>
                <scalar candle="2">
                    <bottom value="-2"/>
                    <top value="3"/>
                    <high value="-1"/>
                </scalar>
            </constraint>

            <!-- 5. However; second day pattern has no (or close to none) lower shadow. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Bottom Fuse</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1016" forecast="bearish">
        <Name>Bearish Abandoned Baby #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a long white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a doji on the second day whose shadows
            characteristically gap above the previous day's upper shadow
            and also gaps in the direction of the previous uptrend. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. Finally we see a black candlestick characterized
            with a gap in the opposite direction, with no overlapping shadows. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Gap Down</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
                <scalar candle="3">
                    <high value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1017" forecast="bearish">
        <Name>Bearish Dark Cloud Cover #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by an uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a long white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a black body characterized by an open above
            the high of the previous day on the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Top Above D1 High</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. The second black candlestick closes within and below
            the midpoint of the previous white body. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Bottom Below D1 Mid</comment>
                <scalar candle="1">
                    <median value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Bottom Above D1 Bottom</comment>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1018" forecast="bearish">
        <Name>Bearish Harami #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by an uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a long white candlestick on the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a black candlestick on the second day
            whose real body is completely engulfed by the real body of
            the first day. The shadows (high/low) of the second candlestick
            do not have to be contained within the first body,
            though it's preferable if they are. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.05" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle</comment>
                <const value="-0.3" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Above D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bottom Below D2 Below</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1019" forecast="bearish">
        <Name>Bearish Downside Gap Three #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see two long black candlesticks with a gap between them in the first and second days. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Low Above D2 High</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
            </constraint>

            <!-- 4. The body of third day candlestick is white and it fills the gap between the first two days. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D1 Bottom</comment>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Below D2 Top</comment>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1020" forecast="bearish">
        <Name>Black Marubozu #1</Name>
        <candlesticks num="1" unit="volatility">
            <!-- 1. A black Marubozu is characterized by not having
            upper or lower shadows and by its long black body. -->
            <!-- 2. It shows that the prices moved down all day long after
            the opening thus forming the long black body. -->
            <!-- 3. Then the day closes at its lowest level that explains
            the absence of the lower shadow. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1021" forecast="bullish">
        <Name>Bullish Kicking Pattern #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market direction is not important. -->
            <!-- 2. We first see a Black Marubozu pattern. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a White Marubozu that gaps upward on the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1022" forecast="bullish">
        <Name>Bullish Morning Doji Star #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a long black candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a Doji on the second day that gaps in the direction of the previous downtrend. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Down</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
            </constraint>

            <!-- 4. The white candlestick on the third day confirms the reversal. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D1 Bottom</comment>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Below D1 Top</comment>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1023" forecast="bullish">
        <Name>Bullish Three Outside Up #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a Bullish Engulfing Pattern in the first two days. -->
            <!-- Bullish Engulfing Pattern 2. Then we see a small black body.-->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.05" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle</comment>
                <const value="-0.3" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- Bullish Engulfing Pattern 3. Next day we see a white body that
            completely engulfs the black real body of the preceding day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Below D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bottom Above D2 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 3. The third day is a white candlestick with a higher close than the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D2 Top</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1024" forecast="bullish">
        <Name>Bullish Concealing Baby Swallow</Name>
        <candlesticks num="4" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see two consecutive Black Marubozu in the first and second days. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>D2 mid below D1 mid</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <median value="-1"/>
                </scalar>
                <scalar candle="2">
                    <median value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a black candlestick on the third day
            opening with a downward gap but trading into the body of
            the second day and it is characterized by a long upper shadow. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Down Gap D2</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 High Below D2 Top</comment>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <high value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 High Above D2 Bottom</comment>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Top Fuse</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="3">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. Finally we see another Black Marubozu on the fourth day
            that completely engulfs the candlestick of the third day
            including the shadow. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="4">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="4">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="4">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D4 Top Above D3 High</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="3">
                    <high value="1"/>
                </scalar>
                <scalar candle="4">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D4 bottom Bellow D3 Low</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="3">
                    <low value="-1"/>
                </scalar>
                <scalar candle="4">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1025" forecast="bearish">
        <Name>Bearish Kicking #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market direction is not important. -->
            <!-- 2. We see a White Marubozu in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see Black Marubozu day that gaps downward on the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Down</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="1">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1026" forecast="bearish">
        <Name>Bearish Evening Doji Star #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a Doji that gaps in the direction of the previous uptrend on the second day. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. Finally the third day is a black candlestick. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Below D1 Top</comment>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bottom Below D3 Bottom</comment>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1027" forecast="bearish">
        <Name>Bearish Three Inside Down #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a Bearish Harami Pattern in the first two days. -->
            <!-- Bearish Harami Pattern 2. We see a long white candlestick on the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- Bearish Harami Pattern 3. Then we see a black candlestick on the second day
            whose real body is completely engulfed by the real body of
            the first day. The shadows (high/low) of the second candlestick
            do not have to be contained within the first body,
            though it's preferable if they are. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.03" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle</comment>
                <const value="-0.3" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Above D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bottom Below D2 Below</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. We then see a black candlestick on the third day with a lower close than the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Lower D2 Bottom</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1028" forecast="bearish">
        <Name>Bearish Three Outside Down #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a Bearish Engulfing Pattern in the first two days. -->
            <!-- Bearish Engulfing Pattern 2. We see a white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.05" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle D1</comment>
                <const value="-0.3" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- Bearish Engulfing Pattern 3. Then we see a black candlestick that completely engulfs the real body of the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Below D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bottom Above D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a black candlestick on the third day with a lower close than the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Lower D2 Bottom</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1029" forecast="bearish">
        <Name>Bearish Upside Gap Two Crows #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a long white candlestick in the first day that signals the continuation of uptrend. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle D1</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a black body with a gap up on second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up D1</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. The third day is characterized by another black
            candlestick having an opening above the first black day
            and also closing below the body of the first black day.
            The body of third day engulfs the body of the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Below D2 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1030" forecast="bullish">
        <Name>Bullish Three Inside Up #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a Bullish Harami Pattern in the first two days. -->
            <!-- Bullish Harami Pattern 2. Then we see a long black candlestick. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle D1</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- Bullish Harami Pattern 3. We see a white candlestick on the following day
            where the small white real body is completely engulfed by
            the real body of the first day. The shadows (high/low) of
            the second candlestick are not necessarily contained within
            the first body, however it's preferable if they are. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle D2</comment>
                <const value="0.05" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle D2</comment>
                <const value="-0.3" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Above D2 Top</comment>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative">
                <comment>D1 Bottom Below D2 Bottom</comment>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a white candlestick on the third day with a higher close than the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D2 Top</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1031" forecast="bullish">
        <Name>Bullish Dragonfly Doji #1</Name>
        <candlesticks num="1" unit="volatility">
            <!-- 1. There is an overall downtrend in the market. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. Then we see a Doji at the upper end of the trading range. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 3. The doji has an extremely long lower shadow. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Bottom Fuse</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <bottom value="-1"/>
                    <low value="1"/>
                </scalar>
            </constraint>

            <!-- 4. However the doji does not have any upper shadow. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Top Fuse</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1032" forecast="bullish">
        <Name>Bullish Harami Cross #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. Then we see a long black candlestick. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Long black candlestick is followed by a doji completely
            engulfed by the real body of the first day.
            The shadows (high/low) of the doji may not be necessarily
            contained within the first black body, though it's preferable if they are. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Above D2 High</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bottom Below D2 Low</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1033" forecast="bullish">
        <Name>Bullish Homing Pigeon #1</Name>
        <candlesticks num="2" unit="volatility_average">
            <!-- 1. Market is in downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a black body in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we again see a black body in the second day
            where the real body of this second day is completely engulfed
            by the real body of the first day. It is not required that
            the shadows (high/low) of the second candlestick are contained
            within the first, though it's preferable if they are. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small candle</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Above D2 High</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bottom Below D2 Low</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1034" forecast="bullish">
        <Name>Bullish Matching Low #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. The market moves in downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We then see a long black candlestick on the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1" factor="unit">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Second day follows with another black candlestick whose
            closing price is equal or extremely close to the closing price 
            of the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>D2 Bottom Equal D1 Bottom</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1035" forecast="bullish">
        <Name>Bullish Meeting Lines #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a black candlestick on the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a long white candlestick on the second day.
            Its body is lower than the previous trend. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. The closing prices are same or almost same on both days. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>D1 Bottom Equal D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1036" forecast="bullish">
        <Name>Bullish Stick Sandwich #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a Black Closing Marubozu in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down 1</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a white candlestick, which is above the close of the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Above D1 Bottom</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. Then we again see a Black Closing Marubozu characterized with a close equal to the close of the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down 3</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="3">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0.01">
                <comment>D3 Bottom Equal D1 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1037" forecast="bullish">
        <Name>Bullish Three Star In The South #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a long Black Opening Marubozu in the first day
            characterized by a long lower shadow just like a Hammer.-->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle 1</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up 1</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Fuse Down 1</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <bottom value="-1"/>
                    <low value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a Black Opening Marubozu on the second day
            similar to the first day however smaller in body with a low
            above the first day’s low.-->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle2</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up 2</comment>
                <scalar candle="2">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Down D1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Low Above D1 Low</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <low value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. We finally see a small Black Marubozu on the third
            day that lies within the second day’s trading range. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="3">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="3">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="3">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Below D2 High</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <high value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Above D2 Low</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <low value="1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1038" forecast="bullish">
        <Name>Bullish Tri Star #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. Then we see three consecutive Doji. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji 1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji 2</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji 3</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 3. The second day Doji gaps below the first and third. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Below D1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Bellow D3</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
                <scalar candle="3">
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1039" forecast="bullish">
        <Name>Bullish Unique Three River Bottom #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by a downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a long black candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle 1</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a Hammer-like black candlestick on the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle 2</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <high value="-1"/>
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Fuse Down 2</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                    <low value="1"/>
                </scalar>
            </constraint>

            <!-- 4. The lower shadow of the second day sets a new low. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Low Below D1 Low</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
                <scalar candle="2">
                    <low value="1"/>
                </scalar>
            </constraint>

            <!-- 5. Then we see a short white candlestick, which is below the second day candlestick. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Candle</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="3">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Gap Down D2</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1040" forecast="bullish">
        <Name>Bullish Breakaway #1</Name>
        <candlesticks num="5" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a long black candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a black candlestick on the second day with a gap below the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Below D1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
            </constraint>

            <!-- 4. Bearish mood continues on the third and fourth days as evidenced by lower consecutive closes. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Below D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D4 Top Below D3 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
                <scalar candle="4">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="4">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 5. Finally however, we see a long white candlestick on
            the fifth day characterized by a closing price inside the gap
            caused by the first and second days.-->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="5">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D5 Top Below D1 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="5">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D5 Top Above D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
                <scalar candle="5">
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1041" forecast="bullish">
        <Name>Bullish Ladder Bottom #1</Name>
        <candlesticks num="5" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see three long black candlesticks characterized by
            consecutively lower opens and a closing sequence just like
            the Bearish Three Black Crows Pattern. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Top 2 Below Top 1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Bottom 2 Below Bottom 1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Top 3 Below Top 2</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Bottom 3 Below Bottom 2</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a black candlestick on the fourth day with an upper shadow. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="4">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Upper Shadow</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="4">
                    <high value="-1"/>
                    <top value="1"/>
                </scalar>
            </constraint>

            <!-- 4. Finally we see a white candlestick opening above the body of the fourth day on the fifth day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="5">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D5 Bottom Above D4 Top</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="4">
                    <top value="1"/>
                </scalar>
                <scalar candle="5">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1042" forecast="bullish">
        <Name>Bullish Belt Hold Pattern #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. There must be an overall downtrend in the market. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. The day gaps down, and the market opens at its
            low but then prices go up during the day and they close near
            to the day’s high. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Bottom Gap Down D1 Low</comment>
                <const value="0.3" factor="unit"/>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 3. We see a white body that has no lower shadow that is a White Opening Marubozu. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle D1</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Fuse Up</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="1"/>
                    <high value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1043" forecast="bullish">
        <Name>Bullish Side-by-Side White Lines #1</Name>
        <candlesticks num="3" unit="volatility">

            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see another white candlestick on the second day with an upward gap. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up D1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. Finally, we see a white candlestick on the third day
            characterized by the same body length and whose closing price is
            equal to the close of the second day and a new high is established. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>D2 Open Equal D3 Open</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                </scalar>
                <scalar candle="3">
                    <open value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>D2 Close Equal D3 Close</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <close value="-1"/>
                </scalar>
                <scalar candle="3">
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>High 2 Below High 3</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
                <scalar candle="3">
                    <high value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1044" forecast="bullish">
        <Name>Bullish Mat Hold #1</Name>
        <candlesticks num="5" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a long white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. We then see an upward gap and a black candlestick on the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up D1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. We see a sequence of small real bodies constituting
            a brief downtrend however staying within the range of the first
            day on the second, third, and fourth days. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Filter From Doji</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="3">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="4">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Small Candle</comment>
                <const value="-0.1" factor="unit"/>
                <scalar candle="4">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Top 3 Below Top 2</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Bottom 3 Below Bottom 2</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Top 4 Below Top 3</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
                <scalar candle="4">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Bottom 4 Below Bottom 3</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="4">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D4 Bottom Below D1 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="4">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D4 Bottom Above D1 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="4">
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- 5. Finally we see a white candlestick, which opens
            with a gap and closes with a new high on the fifth day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="5">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D5 Gap Up D4</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="4">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="5">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D5 Close on New High</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="4">
                    <high value="1"/>
                </scalar>
                <scalar candle="5">
                    <high value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <!-- Нет сил на него смотреть, только сделал совместимым с текущим конфигом.
    1. Market is characterized by uptrend.
    2. We see a long white candlestick in the first day.
    3. Then we see small real bodies defining a brief downtrend but staying within the range of the first day on the second, third and fourth days.
    4. Finally we see a long white candlestick on the fifth day opening above the close of the previous day and also closing at a new high.
    -->
    <pattern id="1045" forecast="bullish">
        <Name>Bullish Rising Three Mehtods #1</Name>
        <candlesticks num="5" unit="volatility">
            <trend curve="TREND" compare="positive" tolerance="0"/>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <scalar candle="4">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="5">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>High 1 Below Open 2</comment>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <open value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Open 1 Below Low 2</comment>
                <scalar candle="1">
                    <open value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>High 3 Below Open 2</comment>
                <scalar candle="3">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <open value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Open 1 Below Low 3</comment>
                <scalar candle="1">
                    <open value="1"/>
                </scalar>
                <scalar candle="3">
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>High 4 Below Top 3</comment>
                <scalar candle="4">
                    <high value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Open 1 Below Low 4</comment>
                <scalar candle="1">
                    <open value="1"/>
                </scalar>
                <scalar candle="4">
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Close 4 Below Low 5</comment>
                <scalar candle="4">
                    <close value="1"/>
                </scalar>
                <scalar candle="5">
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>High 2 Below Close 5</comment>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
                <scalar candle="5">
                    <close value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1046" forecast="bullish">
        <Name>Bullish Upside Gap Three Methods #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see two long white candlesticks with a gap between them. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up D1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see the black candlestick on the third day,
            which opens within the body of the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Below D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D2 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. The third black candlestick fills the gap between the first two days. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Below D1 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1047" forecast="bullish">
        <Name>Bullish Upside Tasuki Gap #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see two long white candlesticks with a gap between them. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up D1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see the black candlestick on the third day,
            which opens within the body of the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Below D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D2 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. The third day candlestick closes into the gap but does not fully close the gap. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Above D1 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Below D2 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1048" forecast="bullish">
        <Name>Bullish Seperating Lines #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by an uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a long black candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see that the second day has the same opening price
            as the first day, or extremely close to it. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>D1 Open Equal D2 Open</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                </scalar>
                <scalar candle="2">
                    <open value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. The second day pattern is a White Opening Marubozu. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Down</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1049" forecast="bullish">
        <Name>Bullish Three Line Strike #1</Name>
        <candlesticks num="4" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see three consecutive long white candlesticks with consecutively higher closes. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Close 1 Below Close 2</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <close value="1"/>
                </scalar>
                <scalar candle="2">
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Close 2 Below Close 3</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <close value="1"/>
                </scalar>
                <scalar candle="3">
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a black candlestick opening at a higher level
            and closing below the open of the pattern’s first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Close 3 Below Open 4</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="3">
                    <close value="1"/>
                </scalar>
                <scalar candle="4">
                    <open value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Close 4 Below Open 1</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                </scalar>
                <scalar candle="4">
                    <close value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1050" forecast="bearish">
        <Name>Bearish Dragonfly Doji #1</Name>
        <candlesticks num="1" unit="volatility">
            <!-- 1. The market is characterized by an overall uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. Then we see a Doji at the upper end of the trading range and it is located above the trend. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Lower shadow of the Doji is extremely long. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long Fuse Down</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <low value="1"/>
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. There is no upper shadow. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <high value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1051" forecast="bearish">
        <Name>Bearish Harami Cross #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a long white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- Then we see a doji completely engulfed by the real body of
            the first day on the second day. The shadows (high/low) of this
            Doji do not have to be contained within the first, though it's
            preferable if they are. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 High Below D1 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Low Above D1 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1052" forecast="bearish">
        <Name>Bearish Meeting Lines #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by uptrend.	 -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a long white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a long black candlestick, which has a body
            that is also higher than the previous trend on the second day.
            4. The close of both days is same or almost same. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>D1 Top Equal D2 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 5. Both of the candlesticks are long but second day candlestick may be shorter than the first. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bigger D2</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1053" forecast="bearish">
        <Name>Bearish Advance Block #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see three adjacent white candlesticks with consecutively higher closes. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Below D2 Top</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Top Below D3 Top</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Each day opens within the previous day's body. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bottom Below D2 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Above D2 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Bottom Below D3 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Top Above D3 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 4. Each day’s body is significantly smaller than the body of the previous day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Bigger D2</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Bigger D3</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1054" forecast="bearish">
        <Name>Bearish deliberation #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see long white bodies in the first and second days. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Long White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. The second day has a higher close than the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D1 Top Below D2 Top</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. Then the third day opens near the second day's close. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>D3 Open Near D2 Close</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="2">
                    <close value="-1"/>
                </scalar>
                <scalar candle="3">
                    <open value="1"/>
                </scalar>
            </constraint>

            <!-- 5. The third day is typically a short white candlestick, a spinning top or a star that gaps above the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.05" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Candle</comment>
                <const value="-0.3" factor="unit"/>
                <scalar candle="3">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1055" forecast="bearish">
        <Name>Bearish Tri Star #1</Name>
        <candlesticks num="3" unit="volatility" tolerance="0">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see three Dojis on three consecutive days. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="3">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 3. The second day Doji has a gap above the first and third -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up D1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up D3</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
                <scalar candle="3">
                    <high value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1056" forecast="bearish">
        <Name>Bearish Two Crows #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a long white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a black candlestick on the second day characterized by a gap up. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Up D1</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Low Above D1 High</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. Finally we see a black candlestick whose opening price
            is inside the body of the second day and which closes inside
            the body of the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Below D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D2 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Below D1 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Above D1 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1057" forecast="bearish">
        <Name>Bearish Breakaway #1</Name>
        <candlesticks num="5" unit="volatility">
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolearnce="0">
                <comment>D2 Gap Up D1</comment>
                <const value="0.1" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D2 Top</comment>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Above D2 Bottom</comment>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D4 Top Above D3 Top</comment>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
                <scalar candle="4">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D4 Bottom Above D3 Bottom</comment>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="4">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <scalar candle="4">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="5">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D5 Bottom Below D2 Bottom</comment>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="5">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D5 Bottom Above D1 Top</comment>
                <scalar candle="1">
                    <top value="1"/>
                </scalar>
                <scalar candle="5">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1058" forecast="bearish">
        <Name>Bearish Belt Holt #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. There is an overall uptrend in the market. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. The day gaps up and prices open on their high but
            then prices move down closing near its low for the day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Top Gap Up D1 High</comment>
                <const value="0.3" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
            </constraint>

            <!-- 3. We then see a black body characterized by the absence
            of upper shadow, which is called a Black Opening Marubozu. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Fuse down</comment>
                <const value="-0.01" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                    <low value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No upside shadow</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <high value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1059" forecast="bearish">
        <Name>Bearish Falling Three Methods #1</Name>
        <candlesticks num="5" unit="volatility">
            <trend curve="TREND" compare="negative" tolerance="0"/>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="4">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Bottom Above D1 Bottom</comment>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Above D2 Bottom</comment>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D2 Top</comment>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D4 Bottom Above D3 Bottom</comment>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="4">
                    <bottom value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D4 Top Above D3 Top</comment>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
                <scalar candle="4">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D4 Top Below D1 Top</comment>
                <scalar candle="1">
                    <top value="-1"/>
                </scalar>
                <scalar candle="4">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="5">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D5 Bottom Below D1 Bottom</comment>
                <scalar candle="1">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="5">
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1060" forecast="bearish">
        <Name>Bearish In Neck #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a long black candlestick in the first day. -->
            <constraint type="linear" compare="negative">
                <comment>Long Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a white candlestick on the second day with
            an opening price that is below the low of the previous day
            and whose closing price is barely above or equal to the
            closing price of the previous day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Open Below D1 Low</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
                <scalar candle="2">
                    <open value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>D2 Top Barely Above or Equal D1 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1061" forecast="bearish">
        <Name>Bearish On Neck #1</Name>
        <candlesticks num="2" unit="volatility" tolerance="0">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a long black candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a white candlestick on the second day,
            which opens below the low of the previous day. This day does
            not need to be a long day or it might resemble the
            Bullish Meeting Line Pattern. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Open 2 Below Low 1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                </scalar>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Low 1 Eq Close 2</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <low value="1"/>
                </scalar>
                <scalar candle="2">
                    <close value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1062" forecast="bearish">
        <Name>Bearish Downside Tasuki Gap</Name>
        <candlesticks num="3" unit="volatility" tolerance="0">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see two long black candlesticks with
            a gap between them in the first and second days. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>High 2 Below Low 1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a white candlestick characterized 
            with an opening within the body of the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Below D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Bottom Above D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <bottom value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. The body of third day candlestick closes into the gap
            but does not fully close the gap. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Below D1 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="-1"/>
                </scalar>
                <scalar candle="3">
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D3 Top Above D2 Top</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1063" forecast="bearish">
        <Name>Bearish Side By Side White Lines #1</Name>
        <candlesticks num="3" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a black candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a white candlestick gapping down on second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Gap Down D1</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. Finally we see a white candlestick, which is almost
            the same size and is also marked with an opening price at about
            the same price as the opening price of the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="3">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Open 3 Eq Open 2</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                </scalar>
                <scalar candle="3">
                    <open value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Close 3 Eq Close 2</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <close value="1"/>
                </scalar>
                <scalar candle="3">
                    <close value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1064" forecast="bearish">
        <Name>Bearish Separating Lines #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. The market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a long white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a black body, which has the same opening
            price as the first day, or extremely close to it. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Open 1 Eq Open 2</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                </scalar>
                <scalar candle="2">
                    <open value="-1"/>
                </scalar>
            </constraint>

            <!-- 4. The second day candlestick is a Black Opening Marubozu. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>No Fuse Up</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <high value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Fuse Down</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <bottom value="-1"/>
                    <low value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1065" forecast="bearish">
        <Name>Bearish Thrusting #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a black candlestick in first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Black Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a white candlestick, which opens considerably
            lower than the low of the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Open consideraly lower than D1 Low</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
                <scalar candle="2">
                    <open value="1"/>
                </scalar>
            </constraint>

            <!-- 4. The second day candlestick closes well into 
            the body of first black candlestick, but not above the midpoint. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Top Above D1 Bottom</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>D2 Top Below D1 Median</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <median value="-1"/>
                </scalar>
                <scalar candle="2">
                    <top value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1066" forecast="bearish">
        <Name>Bearish Three Line Strike #1</Name>
        <candlesticks num="4" unit="volatility">
            <trend curve="TREND" compare="negative" tolerance="0"/>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Open 2 Below Open 1</comment>
                <scalar candle="2">
                    <open value="1"/>
                </scalar>
                <scalar candle="1">
                    <open value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Close 2 Below Close 1</comment>
                <scalar candle="2">
                    <close value="1"/>
                </scalar>
                <scalar candle="1">
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Open 3 Below Open 2</comment>
                <scalar candle="3">
                    <open value="1"/>
                </scalar>
                <scalar candle="2">
                    <open value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Close 3 Below Close 2</comment>
                <scalar candle="3">
                    <close value="1"/>
                </scalar>
                <scalar candle="2">
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>White Candle</comment>
                <scalar candle="4">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Open 4 Below Close 3</comment>
                <scalar candle="4">
                    <open value="1"/>
                </scalar>
                <scalar candle="3">
                    <close value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Open 1 Below Close 4</comment>
                <scalar candle="1">
                    <open value="1"/>
                </scalar>
                <scalar candle="4">
                    <close value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1067" forecast="bearish">
        <Name>Bearish Doji Star #1</Name>
        <candlesticks num="2" unit="volatility" tolerance="0">
            <!-- 1. Market is characterized by uptrend. -->
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 2. We see a long white candlestick in the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall White Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="1"/>
                    <close value="-1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a short candlestick, a spinning top,
            a highwave or a doji that gaps in the direction of
            the previous trend on the second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Gap</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 4. The shadows of the short candlestick, spinning top,
            highwave or doji are not long. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Fuse Up</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <high value="-1"/>
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Fuse Down</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <low value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>


    <pattern id="1068" forecast="bullish">
        <Name>Bullish Doji Star #1</Name>
        <candlesticks num="2" unit="volatility">
            <!-- 1. Market is characterized by downtrend. -->
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 2. We see a long black candlestick on the first day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 3. Then we see a short candlestick, a spinning top, a highwave
            or a doji, that gaps in the direction of the previous trend on second day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Gap</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="1">
                    <low value="-1"/>
                </scalar>
                <scalar candle="2">
                    <high value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 4. The shadows of this short candlestick, spinning top,
            highwave or doji are not long. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Fuse Up</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <high value="-1"/>
                    <top value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Short Fuse Down</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <low value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>


    <pattern id="1069" forecast="bearish">
        <Name>Bearish Tweezer Top #1</Name>
        <candlesticks num="2" unit="volatility">
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 1.	1st day consists of a long body candle. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 2.	2nd day consists of a short body candle
            or a doji that has a high equal to the prior day's high. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>High 1 eq High 2</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <high value="1"/>
                </scalar>
                <scalar candle="2">
                    <high value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1070" forecast="bullish">
        <Name>Bullish Tweezer Bottom #1</Name>
        <candlesticks num="2" unit="volatility">
            <trend curve="TREND" compare="negative" tolerance="0"/>

            <!-- 1.	1st day consists of a long body candle. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>

            <!-- 2.	2nd day consists of a short body candle 
            or a doji that has a low equal to the prior day's low. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Doji</comment>
                <const value="0.01" factor="unit"/>
                <scalar candle="2">
                    <top value="-1"/>
                    <bottom value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Low 1 eq Low 2</comment>
                <const value="0.001" factor="unit"/>
                <scalar candle="1">
                    <low value="1"/>
                </scalar>
                <scalar candle="2">
                    <low value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

    <pattern id="1071" forecast="bearish">
        <Name>Bearish Identical Three Crows #1</Name>
        <candlesticks num="3" unit="volatility">
            <trend curve="TREND" compare="positive" tolerance="0"/>

            <!-- 1.	Three consecutive long black days with lower closes each day. -->
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="1">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="2">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="negative" tolerance="0">
                <comment>Tall Black Candle</comment>
                <const value="0.5" factor="unit"/>
                <scalar candle="3">
                    <open value="-1"/>
                    <close value="1"/>
                </scalar>
            </constraint>

            <!-- 2.	Each day opens at the previous day's close. -->
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Bottom 1 Eq Top 2</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="1">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="2">
                    <top value="-1"/>
                </scalar>
            </constraint>
            <constraint type="linear" compare="absolute" tolerance="0">
                <comment>Bottom 2 Eq Top 3</comment>
                <const value="-0.001" factor="unit"/>
                <scalar candle="2">
                    <bottom value="1"/>
                </scalar>
                <scalar candle="3">
                    <top value="-1"/>
                </scalar>
            </constraint>
        </candlesticks>
    </pattern>

</patterns>